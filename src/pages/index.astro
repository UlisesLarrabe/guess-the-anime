---
import Challenges from "@components/Challenges.astro";
import Layout from "@layouts/Layout.astro";
import es from "src/i18n/es.json";
import challengesJson from "../challenges/challenges.json";

export const getStaticPaths = async () => {
  const paths = [{ params: { lang: "es" } }];
  return paths;
};

const langData = es;
const length = challengesJson.length;
//Without 0
const randomChallenge = Math.floor(Math.random() * length) + 1;
---

<Layout lang={"es"}>
  <main
    class="text-[#f7f7f7] md:w-[1000px] flex flex-col justify-center items-center p-2 pt-10 gap-10"
  >
    <h1 class="md:text-5xl text-2xl font-bold">
      ¡<span class="text-[#f2cc67]">{langData?.greetings.yellow}</span>
      {langData?.greetings.white}
    </h1>
    <article
      class="flex justify-center flex-col p-4 border-2 border-[#4883fe] rounded-lg gap-4"
    >
      <h2 class="text-[#4883fe] font-semibold text-2xl">
        ¿No sabes con cual empezar?
      </h2>
      <p class="text-[#6a9afe]">Entonces comienza con un reto al azar!</p>
      <a
        href={`es/challenges/${randomChallenge}`}
        class="flex gap-2 justify-center items-center p-2 bg-[#4883fe] text-white rounded-md hover:opacity-80"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-arrows-random"
          ><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path
            d="M20 21h-4v-4"></path><path d="M16 21l5 -5"></path><path
            d="M6.5 9.504l-3.5 -2l2 -3.504"></path><path d="M3 7.504l6.83 -1.87"
          ></path><path d="M4 16l4 -1l1 4"></path><path d="M8 15l-3.5 6"
          ></path><path d="M21 5l-.5 4l-4 -.5"></path><path
            d="M20.5 9l-4.5 -5.5"></path></svg
        >
        Empezar
      </a>
    </article>
    <Challenges langData={langData} />
  </main>
</Layout>
